<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenAI Chat</title>
<link href="./css/base.css" rel="stylesheet" />
<link href="./css/prism.css" rel="stylesheet" />
<link href="./fa/css/font-awesome.css" rel="stylesheet" />
</head>
<body>
<div id="left-panel">
    <div id="logo-panel"><image id="icon" src="imgs/icon.png"/><image id="logo" src="imgs/logo.png"/><button id="fold-left-panel" onclick="toggleLeftPanel(event)">|←</button></div>
    <button id="new-chat" onclick="newChat()"><span>New Chat</span><span id="character-button" onclick="toggleCharacterMenu(event)">🤖</span><div id="character-menu" class="dropdown-menu"></div></button>
    <div id="chat-list">
        <!-- Chat list will be dynamically inserted here -->
    </div>
    <div id="toolbar"><button onclick="openSettings()">Settings</button><button onclick="openAbout()">About</button></div>
</div>
<div id="chat-window">
    <div id="chat-header">
        <button id="unfold-left-panel" onclick="toggleLeftPanel(event)">→|</button>
        <div id="chat-title">OpenAI Chat</div>
        <div id="chat-settings" onclick="onChatSettings(event)" title="settings">🔧</div>
        <div class="quick-panel-item" title="model">
            <select id="quick-model-select" onchange="quickChange(event)"></select></select>
        </div>
        <div class="quick-panel-item"  title="context number">
            <input type="range" min="0" max="10" id="quick-context-number" onchange="quickChange(event)"/><button id="quick-reset-context-number" onclick="quickChange(event)">↻</button><label id="quick-context-number-label">0</label>
        </div>
    </div>
    <div id="message-panel">
        <!-- Messages will be dynamically inserted here -->
    </div>
    <form onsubmit="sendMessage(event)">
        <div id="message-input">
            <textarea id="message-text" onkeydown="handleMessageInput(event)" placeholder="Type a message..."></textarea>
            <button id="message-input-send" type="submit">Send</button>
        </div>
    </form>
</div>
<div id="settings-dialog">
    <h3 id="settings-title">Default settings:</h3>
    <p>API URL: <input type="text" id="api-url"></p>
    <p>API key: <input type="text" id="api-key"></p>
    <p>Model: <select id="model" onchange="settingsChange(event)"></select></p>
    <p id="other-model-p">Other model: <input type="text" id="other-model"></p>
    <p>Max context number (exclude current message): <input type="number" min="0" id="context-number"></p>
    <p>Max context tokens (exclude current message): <input type="number" min="0" id="context-tokens"></p>
    <button onclick="closeSettings()">Close</button>
</div>
<div id="about-dialog">
</div>
<script src="scripts/services.js"></script>
<script src="scripts/tiktoken.js"></script>
<script src="scripts/base.js"></script>
<script src="scripts/marked.min.js"></script>
<script src="scripts/prism.js"></script>
</body>
</html>
