<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenAI Chat</title>
<link href="./css/base.css" rel="stylesheet" />
<link href="./css/prism.css" rel="stylesheet" />
</head>
<body>
<div id="chat-list">
    <button onclick="newChat()">New Chat</button>
    <!-- Chat list will be dynamically inserted here -->
</div>
<div id="chat-window">
    <div id="message-panel">
        <!-- Messages will be dynamically inserted here -->
    </div>
    <form onsubmit="sendMessage(event)">
        <div id="message-input">
            <textarea id="message-text" onkeydown="handleMessageInput(event)" placeholder="Type a message..."></textarea>
            <button type="submit">Send</button>
        </div>
    </form>
</div>
<div id="settings-dialog">
    <p>API URL: <input type="text" id="api-url"></p>
    <p>API key: <input type="text" id="api-key"></p>
    <p>Default model: <input type="text" id="default-model"></p>
    <p>Max context number (exclude current message): <input type="number" min="0" id="context-number"></p>
    <p>Max context tokens (exclude current message): <input type="number" min="0" id="context-tokens"></p>
    <button onclick="saveSettings()">Save Settings</button>
    <button onclick="closeSettings()">Close</button>
</div>
<script src="scripts/base.js"></script>
<script src="scripts/marked.min.js"></script>
<script src="scripts/purify.min.js"></script>
<script src="scripts/prism.js"></script>
</body>
</html>
